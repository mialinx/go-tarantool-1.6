# Contribution Guide

## First steps

Clone the repository and install dependencies.

```sh
$ git clone git@github.com:/tarantool/go-tarantool
$ cd go-tarantool
$ go get .
```

## Running tests

You need to [install Tarantool](https://tarantool.io/en/download/) to run tests.
See the Installation section in the README for requirements.

To install test dependencies (such as the
[tarantool/queue](https://github.com/tarantool/queue) module), run:
```bash
make deps
```

To run tests for the main package and each subpackage:
```bash
make test
```

The tests set up all required `tarantool` processes before run and clean up
afterwards.

If you want to run the tests for a specific package:
```bash
make test-<SUBDIR>
```
For example, for running tests in `multi`, `uuid` and `main` packages, call
```bash
make test-multi test-uuid test-main
```

## Code review checklist

- Public API contains functions, variables, constants that are needed from
  outside by users. All the rest should be left closed.
- Public functions, variables and constants contain at least a single-line
  comment.
- Code is DRY (see "Do not Repeat Yourself" principle).
- New features have functional and probably performance tests.
- There are no changes in files not related to the issue.
- There are no obvious flaky tests.
- Commits with bugfixes have tests based on reproducers.
- Changelog entry is present in `CHANGELOG.md`.
- Public methods contain executable examples (contains a comment with
  reference output).
- Autogenerated documentation looks good. Run `godoc -http=:6060` and point
  your web browser to address "http://127.0.0.1:6060" for evaluating.
- Commit message header may start with a prefix with a short description
  follows after colon. It is applicable to changes in a README, examples, tests
  and CI configuration files. Examples: `github-ci: add Tarantool 2.x-latest`
  and `readme: describe how to run tests`.
- Check your comments, commit title, and even variable names to be
  grammatically correct. Start sentences from a capital letter, end with a dot.
  Everywhere - in the code, in the tests, in the commit message.

See also:

- https://github.com/tarantool/tarantool/wiki/Code-review-procedure
- https://www.tarantool.io/en/doc/latest/contributing/
